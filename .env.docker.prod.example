# Production Environment Configuration Template
# Copy this to .env.docker.prod and fill in actual values
# NEVER commit .env.docker.prod to git (it contains secrets!)

# ==============================================
# API Configuration
# ==============================================
API_PORT=3001
API_HOST=0.0.0.0
NODE_ENV=production
LOG_LEVEL=warn

# ==============================================
# Database Configuration
# ==============================================
# For cloud deployment, use managed database URL
# Examples:
# - Google Cloud SQL: postgresql://user:password@/dbname?host=/cloudsql/PROJECT:REGION:INSTANCE
# - AWS RDS: postgresql://user:password@rds-endpoint:5432/dbname
# - DigitalOcean: postgresql://user:password@managed-db-host:25060/dbname?sslmode=require
DATABASE_URL=postgresql://YOUR_DB_USER:YOUR_DB_PASSWORD@YOUR_DB_HOST:5432/concentrate-quiz

# ==============================================
# Redis Configuration
# ==============================================
# For cloud deployment, use managed Redis URL
# Examples:
# - Google Memorystore: redis://MEMORYSTORE_IP:6379
# - AWS ElastiCache: redis://elasticache-endpoint:6379
# - DigitalOcean: redis://managed-redis-host:25061
REDIS_URL=redis://YOUR_REDIS_HOST:6379

# ==============================================
# JWT & Authentication Secrets
# ==============================================
# CRITICAL: Generate strong random secrets for production!
# Generate with: openssl rand -base64 64
JWT_SECRET=REPLACE_WITH_STRONG_RANDOM_SECRET_64_CHARS_MIN
JWT_EXPIRES_IN=7d
REFRESH_TOKEN_EXPIRES_IN=30d
COOKIE_SECRET=REPLACE_WITH_ANOTHER_STRONG_RANDOM_SECRET_64_CHARS_MIN

# ==============================================
# Google OAuth Configuration (Production)
# ==============================================
# Get production credentials from: https://console.cloud.google.com/apis/credentials
# Create separate OAuth client for production with production callback URLs
GOOGLE_CLIENT_ID=your-production-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-production-google-client-secret

# ==============================================
# OAuth Callbacks (Production Domain)
# ==============================================
# Replace your-domain.com with your actual domain
# Backend callback URL (must match Google Cloud Console configuration)
OAUTH_CALLBACK_URL=https://your-domain.com/api/v0/auth/oauth/google/callback
# Frontend OAuth callback handler (DO NOT CHANGE PATH - matches frontend route)
OAUTH_SUCCESS_REDIRECT=https://your-domain.com/oauth/callback
OAUTH_ERROR_REDIRECT=https://your-domain.com/login?error=oauth_failed

# ==============================================
# CORS Configuration
# ==============================================
# Production domain only
CORS_ORIGIN=https://your-domain.com

# ==============================================
# Frontend Configuration
# ==============================================
NEXT_PUBLIC_API_URL=https://your-domain.com/api/v0
NEXT_PUBLIC_APP_URL=https://your-domain.com

# ==============================================
# SSL/TLS Configuration
# ==============================================
# Paths where Let's Encrypt certificates are stored
SSL_CERT_PATH=/etc/nginx/certs/live/your-domain.com/fullchain.pem
SSL_KEY_PATH=/etc/nginx/certs/live/your-domain.com/privkey.pem

# ==============================================
# Certbot Configuration
# ==============================================
CERTBOT_DOMAIN=your-domain.com
CERTBOT_EMAIL=admin@your-domain.com

# ==============================================
# Optional: Cloud Provider Specific
# ==============================================
# GCP_PROJECT_ID=your-gcp-project
# AWS_REGION=us-east-1
# DO_REGION=nyc3
